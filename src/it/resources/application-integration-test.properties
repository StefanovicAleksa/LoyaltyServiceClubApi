# src/it/resources/application-integration-test-postgres.properties
# Integration test configuration for PostgreSQL database tests

# Database configuration for integration tests
spring.datasource.url=jdbc:postgresql://localhost:5432/loyalty_service_club_test
spring.datasource.username=loyalty_service_club_admin
spring.datasource.password=Loyalty16
spring.datasource.driver-class-name=org.postgresql.Driver

# JPA settings for integration tests
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.properties.hibernate.format_sql=false

# Disable Spring Boot's Flyway during tests
spring.flyway.enabled=false

# Logging configuration for tests
logging.level.org.springframework.jdbc=WARN
logging.level.org.hibernate.SQL=WARN
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=WARN

# Test-specific settings
spring.test.database.replace=none

# Connection pool settings for tests
spring.datasource.hikari.maximum-pool-size=5
spring.datasource.hikari.minimum-idle=1
spring.datasource.hikari.connection-timeout=20000
spring.datasource.hikari.idle-timeout=300000
spring.datasource.hikari.max-lifetime=1200000

# Disable unnecessary features for testing
spring.jpa.open-in-view=false